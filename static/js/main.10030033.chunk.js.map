{"version":3,"sources":["components/common/TableHeaders.jsx","components/common/TableBody.jsx","components/common/Table.jsx","components/common/Like.jsx","components/common/MoviesTable.jsx","components/Pagination.jsx","components/common/ListGroup.jsx","utils/paginate.js","services/fakeGenreService.js","services/fakeMovieService.js","components/Movies.jsx","components/App.jsx","index.js"],"names":["TableHeaders","raiseSort","path","sortColumn","props","order","onSort","renderSortIcon","column","className","this","columns","map","onClick","label","key","Component","TableBody","renderCell","item","content","_","get","createKey","_id","data","Table","Like","classes","liked","style","cursor","aria-hidden","MoviesTable","movie","onLike","onDelete","movies","Pagination","itemsCount","pageSize","onPageChange","currentPage","pagesCount","Math","ceil","pages","range","page","href","ListGroup","items","valueProperty","textProperty","onItemSelect","selectedItem","defaultProps","paginate","pageNumber","startIndex","slice","take","value","genres","name","title","genre","numberInStock","dailyRentalRate","publishDate","Movies","state","handleLike","index","indexOf","setState","handleGenreSelect","selectedGenre","handleDelete","filter","m","handlePageChange","handleSort","getPageData","allMovies","filtered","orderBy","totalCount","length","g","message","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.10030033.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nexport class TableHeaders extends Component {\r\n  raiseSort = (path) => {\r\n    const sortColumn = { ...this.props.sortColumn };\r\n    if (sortColumn.path === path)\r\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\r\n    else {\r\n      sortColumn.path = path;\r\n      sortColumn.order = \"asc\";\r\n    }\r\n    this.props.onSort(sortColumn);\r\n  };\r\n\r\n  renderSortIcon = (column) => {\r\n    const { sortColumn } = this.props;\r\n    if (column.path !== sortColumn.path) return null;\r\n    if (sortColumn.order === \"asc\") return <i className=\"fa fa-sort-asc\"></i>;\r\n    return <i className=\"fa fa-sort-desc\"></i>;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <thead>\r\n        <tr>\r\n          {this.props.columns.map((column) => (\r\n            <th\r\n              className=\"clickable\"\r\n              key={column.path || column.key}\r\n              onClick={() => this.raiseSort(column.path)}\r\n            >\r\n              {column.label}\r\n              {this.renderSortIcon(column)}\r\n            </th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableHeaders;\r\n","import React, { Component } from \"react\";\r\nimport _ from \"lodash\";\r\n\r\nexport class TableBody extends Component {\r\n  renderCell = (item, column) => {\r\n    if (column.content) return column.content(item);\r\n    return _.get(item, column.path);\r\n  };\r\n\r\n  createKey = (item, column) => {\r\n    return item._id + (column.path || column.key);\r\n  };\r\n\r\n  render() {\r\n    const { data, columns } = this.props;\r\n\r\n    return (\r\n      <tbody>\r\n        {data.map((item) => (\r\n          <tr key={item._id}>\r\n            {columns.map((column) => (\r\n              <td key={this.createKey(item, column)}>\r\n                {this.renderCell(item, column)}\r\n              </td>\r\n            ))}\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TableBody;\r\n","import React from \"react\";\r\nimport TableHeaders from \"./TableHeaders\";\r\nimport TableBody from \"./TableBody\";\r\n\r\nconst Table = ({ columns, sortColumn, onSort, data }) => {\r\n  return (\r\n    <table className=\"table\">\r\n      <TableHeaders columns={columns} sortColumn={sortColumn} onSort={onSort} />\r\n      <TableBody data={data} columns={columns} />\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default Table;\r\n","import React from \"react\";\r\n\r\nconst Like = (props) => {\r\n  let classes = \"fa fa-heart\";\r\n  if (!props.liked) classes += \"-o\";\r\n  return (\r\n    <i\r\n      style={{ cursor: \"pointer\" }}\r\n      onClick={props.onClick}\r\n      className={classes}\r\n      aria-hidden=\"true\"\r\n    />\r\n  );\r\n};\r\n\r\nexport default Like;\r\n","import React, { Component } from \"react\";\r\nimport Table from \"./Table\";\r\nimport Like from \"./Like\";\r\n\r\nexport class MoviesTable extends Component {\r\n  columns = [\r\n    { path: \"title\", label: \"title\" },\r\n    { path: \"genre.name\", label: \"Genre\" },\r\n    { path: \"numberInStock\", label: \"Stock\" },\r\n    { path: \"dailyRentalRate\", label: \"Rate\" },\r\n    {\r\n      key: \"like\",\r\n      content: (movie) => (\r\n        <Like liked={movie.liked} onClick={() => this.props.onLike(movie)} />\r\n      ),\r\n    },\r\n    {\r\n      key: \"delete\",\r\n      content: (movie) => (\r\n        <button\r\n          onClick={() => this.props.onDelete(movie)}\r\n          className=\"btn btn-danger btn-sm\"\r\n        >\r\n          Delete\r\n        </button>\r\n      ),\r\n    },\r\n  ];\r\n  render() {\r\n    const { movies, onSort, sortColumn } = this.props;\r\n    return (\r\n      <Table\r\n        columns={this.columns}\r\n        data={movies}\r\n        sortColumn={sortColumn}\r\n        onSort={onSort}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesTable;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Pagination = (props) => {\r\n  const { itemsCount, pageSize, onPageChange, currentPage } = props;\r\n\r\n  const pagesCount = Math.ceil(itemsCount / pageSize);\r\n  if (pagesCount === 1) return null;\r\n  const pages = _.range(1, pagesCount + 1);\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination\">\r\n        {pages.map((page) => (\r\n          <li\r\n            key={page}\r\n            className={page === currentPage ? \"page-item active\" : \"page-item\"}\r\n          >\r\n            <a\r\n              href=\"/#\"\r\n              className=\"page-link\"\r\n              onClick={() => onPageChange(page)}\r\n            >\r\n              {page}\r\n            </a>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nPagination.propTypes = {\r\n  itemsCount: PropTypes.number.isRequired,\r\n  pageSize: PropTypes.number.isRequired,\r\n  onPageChange: PropTypes.func.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Pagination;\r\n","import React from \"react\";\r\n\r\nconst ListGroup = ({\r\n  items,\r\n  valueProperty,\r\n  textProperty,\r\n  onItemSelect,\r\n  selectedItem,\r\n}) => {\r\n  return (\r\n    <ul className=\"list-group\">\r\n      {items.map((item) => (\r\n        <li\r\n          key={item[valueProperty]}\r\n          onClick={() => onItemSelect(item)}\r\n          className={\r\n            item === selectedItem ? \"list-group-item active\" : \"list-group-item\"\r\n          }\r\n        >\r\n          {item[textProperty]}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nListGroup.defaultProps = {\r\n  textProperty: \"name\",\r\n  valueProperty: \"_id\",\r\n};\r\n\r\nexport default ListGroup;\r\n","import _ from \"lodash\";\r\n\r\nexport function paginate(items, pageNumber, pageSize) {\r\n  const startIndex = (pageNumber - 1) * pageSize;\r\n  return _(items).slice(startIndex).take(pageSize).value();\r\n}\r\n","export const genres = [\n  { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n  { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n  { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n];\n\nexport function getGenres() {\n  return genres.filter((g) => g);\n}\n","import * as genresAPI from \"./fakeGenreService\";\n\nconst movies = [\n  {\n    _id: \"5b21ca3eeb7f6fbccd471815\",\n    title: \"Terminator\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 6,\n    dailyRentalRate: 2.5,\n    publishDate: \"2018-01-03T19:04:28.809Z\",\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471816\",\n    title: \"Die Hard\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 5,\n    dailyRentalRate: 2.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471817\",\n    title: \"Get Out\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 8,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471819\",\n    title: \"Trip to Italy\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181a\",\n    title: \"Airplane\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181b\",\n    title: \"Wedding Crashers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471814\", name: \"Comedy\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181e\",\n    title: \"Gone Girl\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 7,\n    dailyRentalRate: 4.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd47181f\",\n    title: \"The Sixth Sense\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471820\", name: \"Thriller\" },\n    numberInStock: 4,\n    dailyRentalRate: 3.5,\n  },\n  {\n    _id: \"5b21ca3eeb7f6fbccd471821\",\n    title: \"The Avengers\",\n    genre: { _id: \"5b21ca3eeb7f6fbccd471818\", name: \"Action\" },\n    numberInStock: 7,\n    dailyRentalRate: 3.5,\n  },\n];\n\nexport function getMovies() {\n  return movies;\n}\n\nexport function getMovie(id) {\n  return movies.find((m) => m._id === id);\n}\n\nexport function saveMovie(movie) {\n  let movieInDb = movies.find((m) => m._id === movie._id) || {};\n  movieInDb.name = movie.name;\n  movieInDb.genre = genresAPI.genres.find((g) => g._id === movie.genreId);\n  movieInDb.numberInStock = movie.numberInStock;\n  movieInDb.dailyRentalRate = movie.dailyRentalRate;\n\n  if (!movieInDb._id) {\n    movieInDb._id = Date.now();\n    movies.push(movieInDb);\n  }\n\n  return movieInDb;\n}\n\nexport function deleteMovie(id) {\n  let movieInDb = movies.find((m) => m._id === id);\n  movies.splice(movies.indexOf(movieInDb), 1);\n  return movieInDb;\n}\n","import React, { Component } from \"react\";\r\nimport MoviesTable from \"./common/MoviesTable\";\r\nimport Pagination from \"../components/Pagination\";\r\nimport ListGroup from \"./common/ListGroup\";\r\nimport { paginate } from \"../utils/paginate.js\";\r\nimport { getGenres } from \"../services/fakeGenreService\";\r\nimport { getMovies } from \"../services/fakeMovieService.js\";\r\nimport _ from \"lodash\";\r\n\r\nexport class Movies extends Component {\r\n  //Setting the State\r\n  state = {\r\n    genres: [],\r\n    movies: [],\r\n    currentPage: 1,\r\n    pageSize: 4,\r\n    sortColumn: { path: \"title\", order: \"asc\" },\r\n  };\r\n\r\n  //Life Cycle hooks\r\n  componentDidMount() {\r\n    const genres = [{ _id: \"\", name: \"All Genres\" }, ...getGenres()];\r\n    this.setState({ movies: getMovies(), genres });\r\n  }\r\n\r\n  //Methods\r\n  handleLike = (movie) => {\r\n    const movies = [...this.state.movies];\r\n    const index = movies.indexOf(movie);\r\n    movies[index] = { ...movies[index] };\r\n    movies[index].liked = !movies[index].liked;\r\n    this.setState({ movies });\r\n  };\r\n\r\n  handleGenreSelect = (genre) => {\r\n    this.setState({ selectedGenre: genre, currentPage: 1 });\r\n  };\r\n\r\n  handleDelete = (movie) => {\r\n    const movies = this.state.movies.filter((m) => m._id !== movie._id);\r\n    this.setState({ movies: movies });\r\n  };\r\n\r\n  handlePageChange = (page) => {\r\n    this.setState({ currentPage: page });\r\n  };\r\n\r\n  handleSort = (sortColumn) => {\r\n    this.setState({ sortColumn });\r\n  };\r\n\r\n  getPageData = () => {\r\n    const {\r\n      pageSize,\r\n      currentPage,\r\n      selectedGenre,\r\n      movies: allMovies,\r\n      sortColumn,\r\n    } = this.state;\r\n\r\n    //Filtering before pagination:\r\n    const filtered =\r\n      selectedGenre && selectedGenre._id\r\n        ? allMovies.filter((m) => m.genre._id === selectedGenre._id)\r\n        : allMovies;\r\n\r\n    //Sorting after filtering\r\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\r\n\r\n    //Paginate movies\r\n    const movies = paginate(sorted, currentPage, pageSize);\r\n\r\n    return { totalCount: filtered.length, data: movies };\r\n  };\r\n\r\n  // Rendering\r\n  render() {\r\n    const { pageSize, currentPage } = this.state;\r\n\r\n    const { totalCount, data: movies } = this.getPageData();\r\n\r\n    const message =\r\n      this.state.movies.length === 0\r\n        ? `There are no movies in the database.`\r\n        : `Showing ${totalCount} movies in the database`;\r\n\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">\r\n          <ListGroup\r\n            items={this.state.genres}\r\n            selectedItem={this.state.selectedGenre}\r\n            onItemSelect={this.handleGenreSelect}\r\n          />\r\n        </div>\r\n        <div className=\"col\">\r\n          <p>{message}</p>\r\n          <MoviesTable\r\n            movies={movies}\r\n            sortColumn={this.state.sortColumn}\r\n            onLike={this.handleLike}\r\n            onDelete={this.handleDelete}\r\n            onSort={this.handleSort}\r\n          />\r\n\r\n          <Pagination\r\n            itemsCount={totalCount}\r\n            pageSize={pageSize}\r\n            currentPage={currentPage}\r\n            onPageChange={this.handlePageChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Movies;\r\n","import React from \"react\";\r\nimport Movies from \"./Movies\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <main className=\"container\">\r\n      <Movies />\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"./index.css\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"font-awesome/css/font-awesome.css\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}